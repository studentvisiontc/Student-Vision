<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/png" href="https://studentvisiontc.github.io/SVTC-Images/SV%20Circle%20logo.png">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@400;700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <title>Registration - Student Vision</title>
    <style>
        :root {
            --primary-blue: #00008B;
            --accent-yellow: #ffeb3b;
            --accent-orange: #ffa500;
            --success-green: #2e7d32;
            --error-red: #d32f2f;
            --bg-gray: #f4f7f9;
            --border-color: #e2e8f0;
        }

        * { font-family: 'Roboto Slab', serif; box-sizing: border-box; }
        body { margin: 0; padding: 0; min-height: 100vh; display: flex; flex-direction: column; background-color: var(--bg-gray); scroll-behavior: smooth; overflow-x: hidden; }
        
        header { 
            background: var(--primary-blue); 
            padding: 10px 5%; 
            display: flex; 
            justify-content: space-between; 
            align-items: center; 
            color: white; 
            width: 100%; 
            position: relative; 
            overflow: hidden; 
            min-height: 75px;
            z-index: 100;
        }
        
        .header-scroll-bg { 
            position: absolute; 
            top: 0; 
            left: 0; 
            width: 400%; 
            height: 100%; 
            background: linear-gradient(to right, transparent 0%, rgba(255, 255, 255, 0.2) 5%, rgba(255, 255, 255, 0.6) 10%, rgba(255, 255, 255, 0.1) 15%, transparent 20%); 
            z-index: 1; 
            animation: scrollGlow 25s linear infinite; 
            opacity: 0.9; 
        }
        @keyframes scrollGlow { 0% { transform: translateX(-100%); } 100% { transform: translateX(25%); } }
        
        header .header-left, header .header-right, .header-corner, .header-corner-right { z-index: 10; }
        header .header-left { display: flex; align-items: center; gap: 15px; }
        
        header .logo { height: 46px; width: 46px; border-radius: 50%; border: 2px solid #ffffff; background: white; flex-shrink: 0; }
        header .main-title { font-size: clamp(14px, 4vw, 18px); font-weight: 900; line-height: 1.1; }
        header .sub-title { font-size: clamp(9px, 2.5vw, 11px); font-weight: 600; color: var(--accent-yellow); margin-top: 1px; }
        
        header .header-right { display: flex; gap: clamp(10px, 3vw, 18px); align-items: center; }
        .menu-item a { display: flex; flex-direction: column; align-items: center; text-decoration: none; color: white; transition: transform 0.2s; }
        .menu-item a:hover { transform: translateY(-2px); }
        
        header .icon { font-size: clamp(12px, 3vw, 16px); color: var(--accent-orange); }
        .icon-label { font-size: 8px; margin-top: 3px; font-weight: 800; text-transform: uppercase; letter-spacing: 0.5px; }
        
        .header-corner { position: absolute; top: 0; left: 0; height: 45px; opacity: 0.7; pointer-events: none; }
        .header-corner-right { position: absolute; top: 0; right: 0; height: 45px; opacity: 0.7; transform: scaleX(-1); pointer-events: none; }

        .marquee-container { background: #fff; border-bottom: 2px solid var(--border-color); overflow: hidden; white-space: nowrap; padding: 6px 0; }
        .marquee-text { display: inline-block; padding-left: 100%; animation: marqueeScroll 45s linear infinite; font-size: 13px; font-weight: 700; color: #d32f2f; }
        @keyframes marqueeScroll { 0% { transform: translate(0, 0); } 100% { transform: translate(-100%, 0); } }

        /* Dynamic Main Content Container */
        .main-content {
            width: 100%;
            max-width: 1100px; /* Reduced max-width for better focus on content */
            margin: 0 auto;
            padding: 15px clamp(15px, 4vw, 40px);
            flex-grow: 1;
        }

        .info-area { padding-bottom: 10px; }
        .info-header { font-size: 15px; font-weight: 900; margin-bottom: 10px; display: flex; align-items: center; gap: 10px; color: var(--primary-blue); text-transform: uppercase; }
        .info-list { list-style: none; padding: 0; margin: 0; }
        .info-list li { font-size: clamp(11px, 2.8vw, 12px); color: #475569; margin-bottom: 6px; display: flex; align-items: flex-start; gap: 8px; line-height: 1.5; font-weight: 700; }
        .info-list li i { color: var(--accent-orange); margin-top: 4px; font-size: 10px; }

        .selection-area { padding: 10px 0; }
        .selection-wrapper { display: flex; flex-direction: column; gap: 12px; width: 100%; }
        
        .horizontal-section { background: white; border-radius: 12px; display: flex; justify-content: space-between; align-items: center; padding: 15px 20px; border: 2px solid #fff; box-shadow: 0 4px 12px rgba(0,0,0,0.06); transition: all 0.3s ease; cursor: pointer; }
        .horizontal-section.active-path { border-color: var(--primary-blue); background: #f0f7ff; }
        
        .section-info h3 { margin: 0; font-size: clamp(14px, 3.5vw, 16px); color: var(--primary-blue); font-weight: 900; display: flex; align-items: center; gap: 10px; text-transform: uppercase; }
        .section-info p { margin: 6px 0 0 0; font-size: clamp(10px, 2.5vw, 11.5px); color: #475569; line-height: 1.5; font-weight: 600; max-width: 95%; }
        
        .btn-register { background: var(--primary-blue); color: white; border: none; padding: 8px 22px; border-radius: 50px; font-weight: 800; cursor: pointer; text-transform: uppercase; font-size: 11px; flex-shrink: 0; }
        .btn-join-blink { background: #ff5722; animation: blink 1.2s infinite; }
        @keyframes blink { 0% { opacity: 1; } 50% { opacity: 0.6; } 100% { opacity: 1; } }

        .registration-box { display: none; width: 100%; margin-top: 10px; padding-bottom: 15px; }
        
        .box-notice { padding: 12px; text-align: center; font-weight: 900; font-size: 13px; text-transform: uppercase; letter-spacing: 0.5px; border-radius: 12px 12px 0 0; display: flex; align-items: center; justify-content: center; gap: 10px; margin-bottom: -2px; }
        .notice-enquiry { background: var(--primary-blue); color: white; border: 2px solid var(--primary-blue); }
        .notice-paid { background: #ff9800; color: #000; border: 2px solid #ff9800; box-shadow: 0 4px 15px rgba(255,152,0,0.2); }

        .plain-form-section { margin-bottom: 25px; padding: clamp(15px, 4vw, 25px); background: white; border: 2px solid var(--border-color); border-radius: 0 0 12px 12px; box-shadow: 0 8px 25px rgba(0,0,0,0.04); }
        .hd-field { padding: 12px 15px !important; border: 1px solid #d1d5db !important; border-radius: 10px !important; background: #ffffff !important; font-size: 14px !important; font-weight: 700 !important; box-shadow: inset 2px 2px 5px rgba(0,0,0,0.05), 4px 4px 10px rgba(0,0,0,0.1) !important; transition: all 0.2s ease; outline: none; width: 100%; margin-bottom: 5px; }
        .hd-field:focus { box-shadow: inset 1px 1px 3px rgba(0,0,0,0.1), 0 0 8px rgba(0,0,139,0.3) !important; border-color: var(--primary-blue) !important; transform: translateY(-1px); }
        
        .section-name { color: var(--primary-blue); font-size: 13px; font-weight: 900; text-transform: uppercase; margin-bottom: 15px; display: flex; align-items: center; gap: 8px; border-bottom: 1px solid rgba(0,0,0,0.05); padding-bottom: 8px; }
        .registration-form { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 15px; }
        .form-group { display: flex; flex-direction: column; margin-bottom: 5px; }
        .form-group label { font-size: 10px; font-weight: 800; color: #64748b; margin-bottom: 5px; text-transform: uppercase; }
        
        .box-selector { display: flex; gap: 5px; flex-wrap: wrap; margin-top: 2px; }
        .box-option { position: relative; width: fit-content; }
        .box-option input { position: absolute; opacity: 0; cursor: pointer; height: 0; width: 0; }
        .box-label { display: inline-block; padding: 4px 10px; background: #ffffff; border: 1px solid #d1d5db; border-radius: 8px; font-size: 9px; font-weight: 800; text-align: center; cursor: pointer; min-width: 45px; transition: 0.2s; box-shadow: 2px 2px 5px rgba(0,0,0,0.05); }
        .box-option input:checked + .box-label { background: var(--primary-blue); color: white; border-color: var(--primary-blue); }

        .review-area { background: transparent; padding: 20px 0; display: none; width: 100%; }
        .review-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(240px, 1fr)); gap: 10px; margin: 0 auto; }
        .review-item { display: flex; justify-content: space-between; align-items: center; padding: 10px 15px; border-bottom: 1px dashed rgba(0,0,139,0.1); background: white; border-radius: 6px; }
        .review-label { font-size: 10px; color: #64748b; font-weight: 800; text-transform: uppercase; }
        .review-value { font-size: 12px; color: var(--primary-blue); font-weight: 800; text-align: right; }

        .status-container { width: 100%; display: none; padding: 30px 10px; text-align: center; }
        .status-loading-text { font-weight: 900; color: var(--primary-blue); font-size: clamp(14px, 4vw, 16px); display: flex; align-items: center; justify-content: center; gap: 12px; }

        .success-card { background: white; border-radius: 20px; box-shadow: 0 10px 40px rgba(0,0,0,0.15); padding: clamp(20px, 5vw, 40px); max-width: 550px; margin: 0 auto; border: 3px solid var(--primary-blue); position: relative; }
        .success-header { border-bottom: 2px solid #f1f5f9; padding-bottom: 20px; margin-bottom: 25px; text-align: center; }
        .success-hd-title { color: var(--success-green); font-weight: 900; font-size: clamp(20px, 6vw, 26px); text-transform: uppercase; margin: 10px 0; }
        
        .student-meta { text-align: center; margin-bottom: 25px; }
        .meta-row { margin: 10px 0; display: flex; flex-direction: column; align-items: center; gap: 4px; }
        .meta-label { font-size: 11px; font-weight: 900; color: #64748b; text-transform: uppercase; letter-spacing: 1px; }
        .meta-value { font-size: clamp(16px, 4.5vw, 18px); font-weight: 900; color: var(--primary-blue); }

        .copy-group { display: flex; align-items: center; gap: 10px; background: #f8fafc; padding: 12px 20px; border-radius: 12px; border: 1.5px solid #e2e8f0; margin: 10px 0; }
        .copy-input-text { flex: 1; font-weight: 900; font-size: clamp(12px, 3.5vw, 14px); color: var(--primary-blue); overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }
        .btn-copy { background: none; border: none; color: #64748b; cursor: pointer; font-size: 16px; transition: 0.2s; }
        .btn-copy:hover { color: var(--primary-blue); }

        .credentials-container { background: var(--primary-blue); border-radius: 15px; padding: 20px; color: white; margin: 25px 0; }
        .cred-title { font-size: 10px; font-weight: 900; color: rgba(255,255,255,0.7); text-transform: uppercase; margin-bottom: 15px; text-align: center; letter-spacing: 2px; }
        .cred-row { display: flex; flex-direction: column; gap: 5px; margin-bottom: 15px; }
        .cred-row:last-child { margin-bottom: 0; }
        .cred-label { font-size: 10px; font-weight: 900; text-transform: uppercase; }
        .cred-box { background: rgba(255,255,255,0.15); border: 1px solid rgba(255,255,255,0.3); border-radius: 8px; padding: 10px 15px; display: flex; justify-content: space-between; align-items: center; }
        .cred-val { font-size: 16px; font-weight: 900; letter-spacing: 1px; }
        .cred-copy { background: none; border: none; color: white; cursor: pointer; opacity: 0.7; }

        .action-icon-bar { display: flex; justify-content: space-around; align-items: center; margin-top: 35px; border-top: 2px solid #f1f5f9; padding-top: 25px; gap: 10px; }
        .action-item { display: flex; flex-direction: column; align-items: center; gap: 8px; text-decoration: none; color: #475569; font-size: 10px; font-weight: 900; text-transform: uppercase; cursor: pointer; transition: 0.3s; }
        .icon-circle { width: 45px; height: 45px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 20px; transition: 0.3s; background: #f1f5f9; }
        .item-wa .icon-circle { color: #25d366; }
        .item-dl .icon-circle { color: var(--primary-blue); }
        .item-cl .icon-circle { color: var(--error-red); }

        .submit-container { display: flex; justify-content: center; width: 100%; margin-top: 25px; gap: 15px; flex-wrap: wrap; }
        .review-btn { background: var(--primary-blue); color: white; border: none; padding: 12px 35px; font-size: 12px; font-weight: 900; border-radius: 50px; cursor: pointer; text-transform: uppercase; box-shadow: 0 4px 0 #000044; }
        .edit-btn { background: #64748b; color: white; border: none; padding: 12px 25px; font-size: 11px; font-weight: 800; border-radius: 50px; cursor: pointer; text-transform: uppercase; }

        .security-wrapper { width: 100%; background: linear-gradient(135deg, #ffffff 0%, #f0f7ff 100%); border-top: 1px solid #dbeafe; border-bottom: 1px solid #dbeafe; margin-top: 30px; padding: clamp(30px, 8vw, 40px) 0; }
        .security-box { max-width: 1100px; margin: 0 auto; padding: 0 20px; }
        .security-header { color: var(--primary-blue); font-size: 18px; font-weight: 900; margin-bottom: 25px; display: flex; align-items: center; gap: 10px; text-transform: uppercase; border-bottom: 2px solid var(--accent-orange); padding-bottom: 8px; width: fit-content; }
        .security-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 12px; }
        .security-item { display: flex; align-items: flex-start; gap: 10px; background: rgba(255,255,255,0.8); padding: 15px; border-radius: 12px; border: 1px solid #edf2f7; box-shadow: 0 4px 6px rgba(0,0,0,0.02); }
        .security-item i { color: var(--primary-blue); font-size: 16px; margin-top: 2px; }
        .security-item p { margin: 0; font-size: 11px; font-weight: 700; color: #334155; line-height: 1.5; }

        footer { background: var(--primary-blue); color: white; padding: clamp(20px, 5vw, 40px) 5% 15px 5%; border-top: 4px solid var(--accent-orange); margin-top: auto; }
        .footer-content { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 30px; max-width: 1100px; margin: 0 auto; text-align: left; }
        .footer-column h4 { color: var(--accent-yellow); border-bottom: 1px solid var(--accent-yellow); display: inline-block; margin-bottom: 12px; font-weight: 900; font-size: 13px; text-transform: uppercase; }
        .footer-column p, .footer-column a { font-size: 11px; color: rgba(255,255,255,0.9); text-decoration: none; display: flex; align-items: center; gap: 10px; margin-bottom: 10px; line-height: 1.5; font-weight: 600; }
        .footer-column a:hover { color: var(--accent-yellow); text-decoration: underline; }
        .social-icons { display: flex; gap: clamp(15px, 4vw, 20px); margin: 15px 0; }
        .social-icons a { font-size: clamp(18px, 5vw, 22px); color: white; transition: 0.3s; }
        .social-icons a:hover { transform: scale(1.2); color: var(--accent-yellow); }

        @media (max-width: 850px) {
            header { flex-direction: column; padding: 20px 15px; text-align: center; gap: 15px; }
            header .header-left { flex-direction: column; text-align: center; } /* Centers the logo and title text on mobile */
            header .header-right { width: 100%; justify-content: center; border-top: 1px solid rgba(255,255,255,0.1); padding-top: 15px; }
            .horizontal-section { flex-direction: column; text-align: center; gap: 12px; }
            .horizontal-section .section-info p { max-width: 100%; }
        }
    </style>
</head>
<body>

<header>
    <div class="header-scroll-bg"></div>
    <img src="https://studentvisiontc.github.io/SVTC-Images/hh%20logo.png" class="header-corner">
    <img src="https://studentvisiontc.github.io/SVTC-Images/hh%20logo.png" class="header-corner-right">
    <div class="header-left">
        <img src="https://studentvisiontc.github.io/SVTC-Images/SV%20Circle%20logo.png" class="logo">
        <div>
            <div class="main-title">Student Vision Talent Competition</div>
            <div class="sub-title">“See Your Success”</div>
        </div>
    </div>
    <div class="header-right">
        <div class="menu-item"><a href="https://studentvisiontc.github.io/Student-Vision/index.html"><i class="fa-solid fa-house icon"></i><span class="icon-label">Home</span></a></div>
        <div class="menu-item"><a href="https://studentvisiontc.github.io/Student-Vision/register.html"><i class="fa-solid fa-user-plus icon"></i><span class="icon-label">Register</span></a></div>
        <div class="menu-item"><a href="https://studentvisiontc.github.io/Student-Vision/login.html"><i class="fa-solid fa-right-to-bracket icon"></i><span class="icon-label">Login</span></a></div>
        <div class="menu-item"><a href="https://studentvisiontc.github.io/Student-Vision/admin.html"><i class="fa-solid fa-user-tie icon"></i><span class="icon-label">Admin</span></a></div>
        <div class="menu-item"><a href="https://studentvisiontc.github.io/Student-Vision/price.html"><i class="fa-solid fa-tags icon"></i><span class="icon-label">Pricing</span></a></div>
    </div>
</header>

<div class="marquee-container"><div class="marquee-text">Please register carefully with correct details. You will receive a WhatsApp message with all login details after registration. Review your information before final submission.</div></div>

<div class="main-content">
    <div class="info-area">
        <div class="info-header"><i class="fa-solid fa-circle-exclamation"></i> Important Instructions</div>
        <ul class="info-list">
            <li><i class="fa-solid fa-circle-chevron-right"></i> Unpaid students should register first in Step 1. Our team will contact you.</li>
            <li><i class="fa-solid fa-circle-chevron-right"></i> Register carefully and enter correct information.</li>
            <li><i class="fa-solid fa-circle-chevron-right"></i> Choose the correct section and class while registering.</li>
            <li><i class="fa-solid fa-circle-chevron-right"></i> After payment, register only under Step 2: Paid Students.</li>
            <li><i class="fa-solid fa-circle-chevron-right"></i> Second-time joining students should submit details only after payment.</li>
            <li><i class="fa-solid fa-circle-chevron-right"></i> Review all details before final submission to ensure data accuracy.</li>
        </ul>
    </div>

    <div class="selection-area">
        <div class="selection-wrapper">
            <!-- Box 1 - Student Enquiry -->
            <div id="step1_block">
                <div class="horizontal-section" id="unpaidSection" onclick="toggleForm('unpaid')">
                    <div class="section-info">
                        <h3><i class="fa-solid fa-comments"></i> STUDENT ENQUIRY</h3>
                        <p>Register now, our team will call you to provide complete details and explain the process.</p>
                    </div>
                    <button class="btn-register btn-join-blink">Join</button>
                </div>
                <div id="unpaidRegistration" class="registration-box">
                    <div class="box-notice notice-enquiry"><i class="fa-solid fa-circle-info"></i> ENQUIRY STUDENTS ONLY REGISTER HERE</div>
                    <form id="unpaidForm" onsubmit="handleEnquirySubmit(event)">
                        <div class="plain-form-section">
                            <div class="registration-form">
                                <div class="form-group"><label>Full Name</label><input type="text" name="fullName" class="hd-field" required></div>
                                <div class="form-group"><label>Class</label><select name="class" class="hd-field" required><option value="">Select Class</option><option value="3rd Class">3rd Class</option><option value="4th Class">4th Class</option><option value="5th Class">5th Class</option><option value="6th Class">6th Class</option><option value="7th Class">7th Class</option><option value="8th Class">8th Class</option><option value="9th Class">9th Class</option><option value="10th Class">10th Class</option></select></div>
                                <div class="form-group"><label>Father Name</label><input type="text" name="parentName" class="hd-field" required></div>
                                <div class="form-group"><label>Mobile Number</label><input type="tel" name="mobile" class="hd-field" required></div>
                                <div class="form-group"><label>School Name</label><input type="text" name="schoolName" class="hd-field" required></div>
                                <div class="form-group"><label>Village</label><input type="text" name="village" class="hd-field" required></div>
                                <div class="form-group" style="grid-column: 1 / -1;">
                                    <label>Are you ready to join with us?</label>
                                    <textarea name="studentEnquiry" class="hd-field" placeholder="Write your doubts or questions here..." style="min-height: 100px;"></textarea>
                                </div>
                            </div>
                            <div class="submit-container"><button type="submit" class="review-btn">Submit Enquiry</button></div>
                        </div>
                    </form>
                </div>
                <div id="unpaidStatus" class="status-container"></div>
            </div>

            <!-- Box 2 - Paid Registration -->
            <div id="step2_block">
                <div class="horizontal-section" id="paidSection" onclick="toggleForm('paid')">
                    <div class="section-info">
                        <h3><i class="fa-solid fa-user-check"></i> PAID STUDENT REGISTRATION</h3>
                        <p>Complete your full profile after payment to receive your unique credentials instantly.</p>
                    </div>
                    <button class="btn-register btn-join-blink">Join</button>
                </div>
                <div id="paidRegistration" class="registration-box">
                    <div class="box-notice notice-paid"><i class="fa-solid fa-triangle-exclamation"></i> AFTER PAYMENT ONLY REGISTER HERE FOR ONE TIME ONLY</div>
                    <form id="paidForm" onsubmit="prepareReview(event, 'paid')">
                        <div class="plain-form-section">
                            <!-- Section 1 -->
                            <div class="section-name"><i class="fa-solid fa-user"></i> Section 1: Personal Profile</div>
                            <div class="registration-form">
                                <div class="form-group"><label>Full Name *</label><input type="text" name="fullName" class="hd-field" required></div>
                                <div class="form-group"><label>Class *</label>
                                    <select name="class" id="paidClassSelect" class="hd-field" required onchange="updatePaymentPlanOptions()">
                                        <option value="">Select...</option>
                                        <option value="3rd Class">3rd Class</option>
                                        <option value="4th Class">4th Class</option>
                                        <option value="5th Class">5th Class</option>
                                        <option value="6th Class">6th Class</option>
                                        <option value="7th Class">7th Class</option>
                                        <option value="8th Class">8th Class</option>
                                        <option value="9th Class">9th Class</option>
                                        <option value="10th Class">10th Class</option>
                                    </select>
                                </div>
                                <div class="form-group"><label>Mobile Number *</label><input type="tel" name="mobile" class="hd-field" required></div>
                                <div class="form-group"><label>Number Used by</label><select name="numberUsedBy" class="hd-field"><option value="">Select...</option><option value="Self">Self</option><option value="Father">Father</option><option value="Mother">Mother</option><option value="Brother">Brother</option><option value="Sister">Sister</option><option value="Others">Others</option></select></div>
                                <div class="form-group"><label>WhatsApp Available? *</label><div class="box-selector"><div class="box-option"><input type="radio" name="isWa" value="Yes" id="waYes" required><label class="box-label" for="waYes">Yes</label></div><div class="box-option"><input type="radio" name="isWa" value="No" id="waNo"><label class="box-label" for="waNo">No</label></div></div></div>
                                <div class="form-group"><label>Parent Name</label><input type="text" name="parentName" class="hd-field"></div>
                                <div class="form-group"><label>Gender</label><div class="box-selector"><div class="box-option"><input type="radio" name="gender" value="Male" id="gMale"><label class="box-label" for="gMale">Male</label></div><div class="box-option"><input type="radio" name="gender" value="Female" id="gFemale"><label class="box-label" for="gFemale">Female</label></div></div></div>
                                <div class="form-group"><label>Date of Birth</label><div class="dob-container" style="display:grid; grid-template-columns:1fr 1fr 1fr; gap:5px;"><select name="dob_day" class="hd-field"><option value="">Day</option><script>for(let i=1;i<=31;i++)document.write(`<option value="${i}">${i}</option>`)</script></select><select name="dob_month" class="hd-field"><option value="">Month</option><option value="Jan">Jan</option><option value="Feb">Feb</option><option value="Mar">Mar</option><option value="Apr">Apr</option><option value="May">May</option><option value="Jun">Jun</option><option value="Jul">Jul</option><option value="Aug">Aug</option><option value="Sep">Sep</option><option value="Oct">Oct</option><option value="Nov">Nov</option><option value="Dec">Dec</option></select><select name="dob_year" class="hd-field"><option value="">Year</option><script>for(let i=new Date().getFullYear();i>=2000;i--)document.write(`<option value="${i}">${i}</option>`)</script></select></div></div>
                            </div>

                            <!-- Section 2 -->
                            <div class="section-name" style="margin-top:30px;"><i class="fa-solid fa-school"></i> Section 2: Educational Details</div>
                            <div class="registration-form">
                                <div class="form-group"><label>School Name</label><input type="text" name="schoolName" class="hd-field" required></div>
                                <div class="form-group"><label>School City</label><input type="text" name="schoolCity" class="hd-field" required></div>
                                <div class="form-group"><label>Medium</label><select name="medium" class="hd-field" required><option value="">Select...</option><option value="English">English</option><option value="Telugu">Telugu</option><option value="Hindi">Hindi</option></select></div>
                                <div class="form-group"><label>School Type</label><select name="schoolType" class="hd-field" required><option value="">Select...</option><option value="Private">Private</option><option value="Government">Government</option><option value="Residential">Residential</option></select></div>
                                <div class="form-group"><label>Interesting Subject</label><select name="interestingSubject" class="hd-field" required><option value="">Select...</option><option value="Maths">Maths</option><option value="English">English</option><option value="Telugu">Telugu</option><option value="Science">Science</option><option value="Social">Social</option><option value="Others">Others</option></select></div>
                                <div class="form-group"><label>Dream / Ambition</label><input type="text" name="ambition" class="hd-field"></div>
                                <div class="form-group"><label>Know English?</label><div class="box-selector"><div class="box-option"><input type="radio" name="knowEnglish" value="Yes" id="keYes"><label class="box-label" for="keYes">Yes</label></div><div class="box-option"><input type="radio" name="knowEnglish" value="No" id="keNo"><label class="box-label" for="keNo">No</label></div></div></div>
                                <div class="form-group"><label>Know Telugu?</label><div class="box-selector"><div class="box-option"><input type="radio" name="knowTelugu" value="Yes" id="ktYes"><label class="box-label" for="ktYes">Yes</label></div><div class="box-option"><input type="radio" name="knowTelugu" value="No" id="ktNo"><label class="box-label" for="ktNo">No</label></div></div></div>
                                <div class="form-group"><label>Know Hindi?</label><div class="box-selector"><div class="box-option"><input type="radio" name="knowHindi" value="Yes" id="khYes"><label class="box-label" for="khYes">Yes</label></div><div class="box-option"><input type="radio" name="knowHindi" value="No" id="khNo"><label class="box-label" for="khNo">No</label></div></div></div>
                            </div>

                            <!-- Section 3 -->
                            <div class="section-name" style="margin-top:30px;"><i class="fa-solid fa-credit-card"></i> Section 3: Payment & Location</div>
                            <div class="registration-form">
                                <div class="form-group"><label>Taken Payment Plan *</label><select name="paymentPlan" id="paymentPlanSelect" class="hd-field" required><option value="">Select Class First</option></select></div>
                                <div class="form-group"><label>Paid Amount *</label><input type="number" name="paidAmount" class="hd-field" required></div>
                                <div class="form-group"><label>Paid From *</label><select name="paidFrom" class="hd-field" required><option value="">Select...</option><option value="PhonePe">PhonePe</option><option value="Google Pay">Google Pay</option><option value="Paytm">Paytm</option><option value="Cash">Cash</option><option value="Others">Others</option></select></div>
                                <div class="form-group"><label>Village Name</label><input type="text" name="village" class="hd-field" required></div>
                                <div class="form-group"><label>Mandal</label><input type="text" name="mandal" class="hd-field" required></div>
                                <div class="form-group"><label>District</label><input type="text" name="district" class="hd-field" required></div>
                                <div class="form-group"><label>State</label><input type="text" name="state" class="hd-field" value="Andhra Pradesh" required></div>
                            </div>

                            <!-- Section 4 -->
                            <div class="section-name" style="margin-top:30px;"><i class="fa-solid fa-users-viewfinder"></i> Section 4: Reference & Agreement</div>
                            <div class="registration-form">
                                <div class="form-group"><label>Joined From</label><select name="joinedFrom" class="hd-field"><option value="">Select...</option><option value="Teacher">Teacher</option><option value="Social Media">Social Media</option><option value="Friend">Friend</option><option value="Others">Others</option></select></div>
                                <div class="form-group"><label>Reference Name</label>
                                    <select name="refName" id="refName" class="hd-field" onchange="updateRefNumber()">
                                        <option value="">Select Reference Name</option>
                                        <option value="Sri Veda TC">Sri Veda TC</option>
                                        <option value="K Jaya Lakshmi">K Jaya Lakshmi</option>
                                        <option value="E Siva Krishna">E Siva Krishna</option>
                                        <option value="B Pavan murthi">B Pavan murthi</option>
                                        <option value="Y Swapna">Y Swapna</option>
                                        <option value="B Satya Narayana">B Satya Narayana</option>
                                        <option value="K Narasimha Reddy">K Narasimha Reddy</option>
                                        <option value="Other">Other</option>
                                    </select>
                                </div>
                                <div class="form-group"><label>Reference Number</label><input type="tel" name="refNumber" id="refNumber" class="hd-field"></div>
                                <div class="form-group" style="grid-column: 1 / -1; flex-direction: row; align-items: center; gap: 10px; margin-top:15px;">
                                    <input type="checkbox" name="agreement" value="Agreed" required style="width:18px; height:18px;">
                                    <span style="font-size:11px; font-weight: 800;">I AGREE TO THE <a href="https://studentvisiontc.github.io/Student-Vision/terms.html" style="color: var(--primary-blue);">TERMS & CONDITIONS</a> *</span>
                                </div>
                            </div>
                            <div class="submit-container"><button type="submit" class="review-btn">Review Full Profile</button></div>
                        </div>
                    </form>
                </div>

                <!-- Review Box -->
                <div id="paidReviewBox" class="review-area">
                    <div class="form-header" style="text-align:center;"><h2 class="form-title" style="color:var(--primary-blue); font-weight:900; margin-bottom:20px; border-bottom:3px solid var(--accent-orange); display:inline-block; text-transform:uppercase;">Confirm Your Profile</h2></div>
                    <div id="paidReviewContent" class="review-grid"></div>
                    <div class="submit-container">
                        <button type="button" class="edit-btn" onclick="editForm('paid')">Back to Edit</button>
                        <button type="button" class="review-btn" onclick="finalPaidSubmit()">Submit & Receive ID</button>
                    </div>
                </div>
                
                <div id="paidStatus" class="status-container"></div>
            </div>
        </div>
    </div>
</div>

<div class="security-wrapper">
    <div class="security-box">
        <div class="security-header"><i class="fa-solid fa-user-shield"></i> Security & Data Protection</div>
        <div class="security-grid">
            <div class="security-item"><i class="fa-solid fa-check-circle"></i><p>We collect only basic personal details required for registration.</p></div>
            <div class="security-item"><i class="fa-solid fa-check-circle"></i><p>We do not share, sell, or misuse your data in any way.</p></div>
            <div class="security-item"><i class="fa-solid fa-check-circle"></i><p>We never ask for OTPs. Please stay alert and cautious.</p></div>
            <div class="security-item"><i class="fa-solid fa-check-circle"></i><p>We do not collect Aadhaar, PAN, or any sensitive documents.</p></div>
            <div class="security-item"><i class="fa-solid fa-check-circle"></i><p>Your complete data is kept secure and safe with us.</p></div>
            <div class="security-item"><i class="fa-solid fa-check-circle"></i><p>Please be careful and ensure security while entering your details.</p></div>
            <div class="security-item" style="grid-column: 1 / -1; background: var(--primary-blue); color: white; text-align: center; border:none; padding:15px; border-radius:10px;">
                <p style="color:white; width: 100%; font-size: clamp(11px, 3vw, 13px); font-weight: 800;">We promise that all registration details remain protected and secure at all times, even after login.</p>
            </div>
        </div>
    </div>
</div>

<footer>
    <div class="footer-content">
        <div class="footer-column">
            <h4><i class="fa-solid fa-headset"></i> Support</h4>
            <p><i class="fa-solid fa-phone"></i> +91 8985170500</p>
            <p><i class="fa-solid fa-envelope"></i> contact.studentvision@gmail.com</p>
        </div>
        <div class="footer-column">
            <h4><i class="fa-solid fa-link"></i> Quick Links</h4>
            <a href="https://studentvisiontc.github.io/Student-Vision/about.html"><i class="fa-solid fa-circle-info"></i> About Us</a>
            <a href="https://studentvisiontc.github.io/Student-Vision/terms.html"><i class="fa-solid fa-shield-halved"></i> Terms & Conditions</a>
        </div>
        <div class="footer-column">
            <h4><i class="fa-solid fa-share-nodes"></i> Follow Us</h4>
            <div class="social-icons">
                <a href="https://wa.me/918985170500" target="_blank"><i class="fab fa-whatsapp"></i></a>
                <a href="https://www.instagram.com/studentvisiontc" target="_blank"><i class="fab fa-instagram"></i></a>
                <a href="https://www.youtube.com/channel/UC7rXOPzKsXjw7XNtFcL5EGA" target="_blank"><i class="fab fa-youtube"></i></a>
                <a href="https://www.facebook.com/profile.php?id=61585789042632" target="_blank"><i class="fab fa-facebook"></i></a>
            </div>
            <p style="opacity: 0.7; font-size: 10px; margin-top: 10px;">&copy; 2025 Student Vision TC. All rights reserved.</p>
        </div>
    </div>
</footer>

<script>
    const ENQUIRY_URL = 'https://script.google.com/macros/s/AKfycbxv3mQCNq10oLscogI2cJ3TF8Ih_sAvvKxgogSyNYELnKF_RmNhK6pbiWwmo-M7ptCr/exec';
    const REGISTRATION_URL = 'https://script.google.com/macros/s/AKfycbxBkQ0RaO8KWuqDcSgikmZjvJLnXj5TdO6pnJU77zEGYnsCdEDHZ6uECJ9MwviePJGj/exec'; 

    let activeType = '';
    let globalPaidData = {};

    function toggleForm(type) {
        if (activeType === type) { hideAll(); activeType = ''; return; }
        hideAll();
        activeType = type;
        const group = document.getElementById(type === 'unpaid' ? 'unpaidRegistration' : 'paidRegistration');
        const sectionId = type === 'unpaid' ? 'unpaidSection' : 'paidSection';
        document.getElementById(sectionId).classList.add('active-path');
        group.style.display = 'block';
        scrollToTarget(sectionId);
    }

    function hideAll() {
        document.querySelectorAll('.registration-box, .review-area, .status-container').forEach(el => el.style.display = 'none');
        document.querySelectorAll('.horizontal-section').forEach(el => el.classList.remove('active-path'));
    }

    function scrollToTarget(id) {
        const el = document.getElementById(id);
        if(el) window.scrollTo({ top: el.offsetTop - 20, behavior: 'smooth' });
    }

    function updateRefNumber() {
        const refName = document.getElementById('refName').value;
        const refNumInput = document.getElementById('refNumber');
        const mapping = {
            "Sri Veda TC": "9392100363", "K Jaya Lakshmi": "9346393622", "E Siva Krishna": "6301104501",
            "B Pavan murthi": "6301929820", "Y Swapna": "7702327901", "B Satya Narayana": "8985170500",
            "K Narasimha Reddy": "9346119924", "Other": "7702327901"
        };
        refNumInput.value = mapping[refName] || "";
    }

    function updatePaymentPlanOptions() {
        const classVal = document.getElementById('paidClassSelect').value;
        const planSelect = document.getElementById('paymentPlanSelect');
        planSelect.innerHTML = '';
        if (classVal === "3rd Class" || classVal === "4th Class") {
            planSelect.innerHTML = '<option value="Primary 799">Primary 799</option>';
        } else if (["5th Class", "6th Class", "7th Class", "8th Class", "9th Class"].includes(classVal)) {
            planSelect.innerHTML = '<option value="Secondary Plan 1499">Secondary Plan 1499</option>';
        } else if (classVal === "10th Class") {
            planSelect.innerHTML = '<option value="SSC 1999 PLAN">SSC 1999 PLAN</option>';
        } else {
            planSelect.innerHTML = '<option value="">Select Class First</option>';
        }
    }

    function copyToClipboard(text) {
        const tempInput = document.createElement("input");
        tempInput.value = text;
        document.body.appendChild(tempInput);
        tempInput.select();
        document.execCommand("copy");
        document.body.removeChild(tempInput);
    }

    function downloadSuccessCard() {
        const card = document.getElementById('successCardContent');
        html2canvas(card, { scale: 2 }).then(canvas => {
            const link = document.createElement('a');
            link.download = `SV_Registration_${globalPaidData.fullName}.png`;
            link.href = canvas.toDataURL("image/png");
            link.click();
        });
    }

    function handleEnquirySubmit(e) {
        e.preventDefault();
        const status = document.getElementById('unpaidStatus');
        const params = new URLSearchParams();
        for (const pair of new FormData(e.target)) { params.append(pair[0], pair[1]); }
        params.append('sheet', 'NewReg');
        document.getElementById('unpaidRegistration').style.display = 'none';
        status.style.display = 'block'; 
        status.innerHTML = `<div class="status-loading-text"><i class="fas fa-spinner fa-spin"></i> Submitting Enquiry...</div>`;
        scrollToTarget('unpaidStatus');
        fetch(ENQUIRY_URL, { method: 'POST', body: params })
        .then(res => res.json())
        .then(data => {
            if (data.status === "error") {
                status.innerHTML = `<div style="padding:40px 15px;"><i class="fa-solid fa-circle-exclamation" style="font-size:60px; color:var(--error-red); margin-bottom:15px;"></i><h2 style="color:var(--error-red); font-weight:900;">LIMIT REACHED!</h2><p style="font-weight:800; color:#475569; margin-top:10px;">${data.message}</p></div>`;
            } else {
                status.innerHTML = `<div style="padding:40px 15px;"><i class="fa-solid fa-circle-check" style="font-size:65px; color:var(--success-green);"></i><h2 class="success-hd-title">Success!</h2><p style="font-weight:800; color:#475569;">Your enquiry has been received. Our team will contact you soon.</p><button class="review-btn" style="margin-top:20px;" onclick="location.reload()">Back to Home</button></div>`; 
            }
        });
    }

    function prepareReview(e, type) {
        e.preventDefault();
        const data = Object.fromEntries(new FormData(e.target));
        if(data.dob_day) data.dob = `${data.dob_day}-${data.dob_month}-${data.dob_year}`;
        globalPaidData = data;
        const reviewContent = document.getElementById('paidReviewContent');
        reviewContent.innerHTML = '';
        const fieldLabels = { fullName: "Full Name", class: "Class", mobile: "Mobile", parentName: "Parent", paymentPlan: "Plan", paidAmount: "Amount", schoolName: "School", village: "Village" };
        for (const [key, label] of Object.entries(fieldLabels)) {
            reviewContent.innerHTML += `<div class="review-item"><div class="review-label">${label}</div><div class="review-value">${data[key] || "N/A"}</div></div>`;
        }
        document.getElementById('paidRegistration').style.display = 'none';
        document.getElementById('paidReviewBox').style.display = 'block';
        scrollToTarget('paidReviewBox');
    }

    function editForm(type) {
        document.getElementById('paidReviewBox').style.display = 'none';
        document.getElementById('paidRegistration').style.display = 'block';
    }

    function finalPaidSubmit() {
        const status = document.getElementById('paidStatus');
        document.getElementById('paidReviewBox').style.display = 'none';
        status.style.display = 'block'; 
        status.innerHTML = `<div class="status-loading-text"><i class="fas fa-spinner fa-spin"></i> Processing Registration...</div>`;
        scrollToTarget('paidStatus');
        const params = new URLSearchParams();
        for (const [key, value] of Object.entries(globalPaidData)) { params.append(key, value); }
        params.append('sheet', 'PaidReg');
        fetch(REGISTRATION_URL, { method: 'POST', body: params })
        .then(res => res.json())
        .then(data => {
            const user = data.username || "SV" + Math.floor(1000 + Math.random() * 9000);
            const pass = data.password || "SV" + Math.floor(100000 + Math.random() * 900000);
            const loginLink = `https://studentvision.in/login`;
            status.innerHTML = `
                <div class="success-card" id="successCardContent">
                    <div class="success-header"><i class="fa-solid fa-circle-check" style="font-size:50px; color:var(--success-green);"></i><h2 class="success-hd-title">Successful!</h2></div>
                    <div class="student-meta">
                        <div class="meta-row"><span class="meta-label">Student Name</span><span class="meta-value">${globalPaidData.fullName}</span></div>
                        <div class="meta-row"><span class="meta-label">Class</span><span class="meta-value">${globalPaidData.class}</span></div>
                    </div>
                    <div style="text-align:left; margin-bottom:10px;"><label class="meta-label">Login Portal Link</label></div>
                    <div class="copy-group">
                        <span class="copy-input-text">${loginLink}</span>
                        <button class="btn-copy" onclick="copyToClipboard('${loginLink}')"><i class="fa-solid fa-copy"></i></button>
                    </div>
                    <div class="credentials-container">
                        <div class="cred-title">Portal Access Credentials</div>
                        <div class="cred-row"><span class="cred-label">Username</span><div class="cred-box"><span class="cred-val">${user}</span><button class="cred-copy" onclick="copyToClipboard('${user}')"><i class="fa-solid fa-copy"></i></button></div></div>
                        <div class="cred-row"><span class="cred-label">Password</span><div class="cred-box"><span class="cred-val">${pass}</span><button class="cred-copy" onclick="copyToClipboard('${pass}')"><i class="fa-solid fa-copy"></i></button></div></div>
                    </div>
                    <div class="action-icon-bar">
                        <div class="action-item item-wa" onclick="window.open('https://wa.me/918985170500')"><div class="icon-circle"><i class="fa-brands fa-whatsapp"></i></div><span>Message</span></div>
                        <div class="action-item item-dl" onclick="downloadSuccessCard()"><div class="icon-circle"><i class="fa-solid fa-download"></i></div><span>Save PNG</span></div>
                        <div class="action-item item-cl" onclick="location.reload()"><div class="icon-circle"><i class="fa-solid fa-circle-xmark"></i></div><span>Close</span></div>
                    </div>
                </div>`;
        });
    }
</script>
</body>
</html>

