<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/png" href="https://studentvisiontc.github.io/SVTC-Images/SV%20Circle%20logo.png">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@400;700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <title>Registration - Student Vision</title>
    <style>
        :root {
            --primary-blue: #00008B;
            --accent-yellow: #ffeb3b;
            --accent-orange: #ffa500;
            --success-green: #2e7d32;
            --error-red: #d32f2f;
            --bg-gray: #f4f7f9;
            --border-color: #e2e8f0;
        }

        * { font-family: 'Roboto Slab', serif; box-sizing: border-box; }
        body { margin: 0; padding: 0; min-height: 100vh; display: flex; flex-direction: column; background-color: var(--bg-gray); scroll-behavior: smooth; }
        
        /* UPDATED HEADER SECTION */
        header { 
            background: var(--primary-blue); 
            padding: 0 30px; /* Fixed Horizontal Padding */
            display: flex; 
            justify-content: space-between; 
            align-items: center; 
            color: white; 
            width: 100%; 
            position: relative; 
            overflow: hidden; 
            min-height: 75px; /* Fixed Minimum Height */
        }
        
        .header-scroll-bg { 
            position: absolute; 
            top: 0; 
            left: 0; 
            width: 400%; 
            height: 100%; 
            background: linear-gradient(to right, transparent 0%, rgba(255, 255, 255, 0.2) 5%, rgba(255, 255, 255, 0.6) 10%, rgba(255, 255, 255, 0.1) 15%, transparent 20%); 
            z-index: 1; 
            animation: scrollGlow 25s linear infinite; 
            opacity: 0.9; 
        }
        @keyframes scrollGlow { 0% { transform: translateX(-100%); } 100% { transform: translateX(25%); } }
        
        header .header-left, header .header-right, .header-corner, .header-corner-right { z-index: 10; }
        header .header-left { display: flex; align-items: center; gap: 15px; }
        
        /* Logo and Brand Typography */
        header .logo { height: 46px; width: 46px; border-radius: 50%; border: 2px solid #ffffff; background: white; flex-shrink: 0; }
        header .main-title { font-size: 18px; font-weight: 900; line-height: 1.1; }
        header .sub-title { font-size: 11px; font-weight: 600; color: var(--accent-yellow); margin-top: 1px; }
        
        /* Header Navigation */
        header .header-right { display: flex; gap: 18px; align-items: center; } /* Fixed 18px gap */
        .menu-item a { display: flex; flex-direction: column; align-items: center; text-decoration: none; color: white; transition: transform 0.2s; }
        
        header .icon { font-size: clamp(12px, 2.2vw, 16px); color: var(--accent-orange); } /* Responsive Icon Scaling */
        .icon-label { font-size: 8px; margin-top: 3px; font-weight: 800; text-transform: uppercase; letter-spacing: 0.5px; }
        
        /* Corner Icons */
        .header-corner { position: absolute; top: 0; left: 0; height: 45px; opacity: 0.7; pointer-events: none; }
        .header-corner-right { position: absolute; top: 0; right: 0; height: 45px; opacity: 0.7; transform: scaleX(-1); pointer-events: none; }

        .marquee-container { background: #fff; border-bottom: 2px solid var(--border-color); overflow: hidden; white-space: nowrap; padding: 4px 0; }
        .marquee-text { display: inline-block; padding-left: 100%; animation: marqueeScroll 45s linear infinite; font-size: 13px; font-weight: 700; color: #d32f2f; }
        @keyframes marqueeScroll { 0% { transform: translate(0, 0); } 100% { transform: translate(-100%, 0); } }

        .info-area { padding: 15px 20px 0 20px; }
        .info-wrapper { max-width: 1450px; margin: 0 auto; width: 100%; padding: 5px 0; }
        .info-header { font-size: 15px; font-weight: 900; margin-bottom: 8px; display: flex; align-items: center; gap: 10px; color: var(--primary-blue); text-transform: uppercase; }
        .info-list { list-style: none; padding: 0; margin: 0; }
        .info-list li { font-size: 12px; color: #475569; margin-bottom: 4px; display: flex; align-items: flex-start; gap: 8px; line-height: 1.4; }
        .info-list li i { color: var(--accent-orange); margin-top: 3px; font-size: 10px; }

        .selection-area { padding: 15px 20px; }
        .selection-wrapper { max-width: 1450px; margin: 0 auto; display: flex; flex-direction: column; gap: 12px; }
        .horizontal-section { background: white; border-radius: 12px; display: flex; justify-content: space-between; align-items: center; padding: 10px 18px; border: 2px solid #fff; box-shadow: 0 4px 12px rgba(0,0,0,0.06); transition: all 0.3s ease; cursor: pointer; }
        .horizontal-section.active-path { border-color: var(--primary-blue); background: #f0f7ff; }
        .section-info h3 { margin: 0; font-size: 14px; color: var(--primary-blue); font-weight: 900; display: flex; align-items: center; gap: 10px; }
        .step-badge { background: var(--primary-blue); color: white; font-size: 9px; padding: 3px 10px; border-radius: 4px; text-transform: uppercase; margin-right: 5px; }
        .section-info p { margin: 3px 0 0 0; font-size: 11px; color: #64748b; }
        .btn-register { background: var(--primary-blue); color: white; border: none; padding: 8px 22px; border-radius: 50px; font-weight: 800; cursor: pointer; text-transform: uppercase; font-size: 11px; }
        .btn-join-blink { background: #ff5722; animation: blink 1.2s infinite; }
        @keyframes blink { 0% { opacity: 1; } 50% { opacity: 0.6; } 100% { opacity: 1; } }

        .registration-box { display: none; width: 100%; margin-top: 10px; padding-bottom: 15px; }
        .registration-box.show { display: block !important; animation: fadeIn 0.4s ease forwards; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        .verify-container { display: flex; flex-direction: column; background: #fff; padding: 12px; border-radius: 12px; box-shadow: 0 4px 15px rgba(0,0,0,0.05); border: 2px solid var(--border-color); max-width: 500px; margin: 0 auto 15px auto; }
        .verify-row { display: flex; align-items: center; gap: 10px; width: 100%; }
        .verify-input-group { flex: 1; position: relative; display: flex; align-items: center; }
        .verify-input-group i { position: absolute; left: 10px; color: var(--primary-blue); font-size: 16px; }
        .verify-input-group input { width: 100%; padding: 10px 10px 10px 35px; border: 2px solid #f1f5f9; border-radius: 8px; font-size: 14px; font-weight: 700; background: #f8fafc; }
        .btn-verify { background: linear-gradient(135deg, var(--primary-blue) 0%, #0000cd 100%); color: #fff; border: none; padding: 10px 20px; border-radius: 8px; font-weight: 900; text-transform: uppercase; cursor: pointer; font-size: 11px; box-shadow: 0 3px 0 #000044; transition: 0.2s; }
        .btn-verify:active { transform: translateY(2px); box-shadow: none; }
        .verify-error-box { display: none; margin-top: 10px; padding: 10px; background: #fff5f5; border: 1px solid #feb2b2; border-radius: 8px; color: var(--error-red); font-size: 11px; font-weight: 700; }

        .form-header { text-align: center; margin-bottom: 15px; padding: 5px 0; }
        .form-title { color: var(--primary-blue); font-size: 18px; font-weight: 900; border-bottom: 3px solid var(--accent-orange); display: inline-block; text-transform: uppercase; }
        .form-section { margin-bottom: 15px; padding: 20px; background: #ffffff; border-radius: 16px; box-shadow: 0 4px 15px rgba(0,0,0,0.05); border: 1px solid var(--border-color); }
        .section-name { color: var(--primary-blue); font-size: 13px; font-weight: 900; text-transform: uppercase; margin-bottom: 15px; display: flex; align-items: center; gap: 8px; border-bottom: 1px solid #f0f0f0; padding-bottom: 8px; }
        
        .registration-form { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; }
        .form-group { display: flex; flex-direction: column; }
        .form-group label { font-size: 10px; font-weight: 800; color: #64748b; margin-bottom: 5px; text-transform: uppercase; }
        .form-group input, .form-group select { padding: 10px 12px; border: 2px solid #f1f5f9; border-radius: 8px; font-size: 13px; background-color: #f8fafc; color: #1e293b; }
        .dob-container { display: grid; grid-template-columns: 1fr 2fr 1.5fr; gap: 5px; }

        .box-selector { display: flex; gap: 5px; flex-wrap: wrap; margin-top: 2px; }
        .box-option { position: relative; width: fit-content; }
        .box-option input { position: absolute; opacity: 0; cursor: pointer; height: 0; width: 0; }
        .box-label { display: inline-block; padding: 4px 10px; background: #f1f5f9; border: 1px solid #e2e8f0; border-radius: 6px; font-size: 9px; font-weight: 800; text-align: center; cursor: pointer; min-width: 45px; transition: 0.2s; }
        .box-option input:checked + .box-label { background: var(--primary-blue); color: white; border-color: var(--primary-blue); }

        .review-area { background: white; border-radius: 16px; padding: 20px; border: 2px solid var(--primary-blue); margin-bottom: 15px; display: none; width: 100%; max-width: 1450px; margin: 0 auto; }
        .review-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }
        .review-item { border-bottom: 1px solid #eee; padding: 5px 0; }
        .review-label { font-size: 8px; color: #64748b; font-weight: 800; text-transform: uppercase; }
        .review-value { font-size: 12px; color: var(--primary-blue); font-weight: 700; }

        .status-container { width: 100%; display: none; padding: 25px; text-align: center; background: white; border-radius: 12px; border: 3px dashed var(--border-color); margin-top: 15px; box-shadow: 0 10px 30px rgba(0,0,0,0.05); }
        .status-loading-text { font-weight: 900; color: var(--primary-blue); font-size: 15px; display: flex; align-items: center; justify-content: center; gap: 10px; }
        
        .cred-item { font-weight: 900; color: var(--error-red); text-transform: uppercase; font-size: 20px; letter-spacing: 1px; }
        .action-row { display: flex; justify-content: center; gap: 15px; margin-top: 25px; flex-wrap: wrap; }
        .btn-action { padding: 12px 25px; border-radius: 12px; font-weight: 900; font-size: 12px; display: flex; align-items: center; gap: 10px; cursor: pointer; border: none; text-decoration: none; transition: 0.3s; box-shadow: 0 4px 10px rgba(0,0,0,0.1); }
        .wa-btn { background: linear-gradient(135deg, #25D366 0%, #128C7E 100%); color: white; }
        .wa-btn i { font-size: 32px; }
        .dl-btn { background: #ffffff; color: #475569; border: 2px solid #e2e8f0; }
        .home-btn { background: var(--primary-blue); color: white; }
        .btn-action:hover { transform: translateY(-3px); box-shadow: 0 6px 15px rgba(0,0,0,0.15); }

        /* SECURITY SECTION UPDATED TO FULL WIDTH */
        .security-wrapper { 
            width: 100%; 
            background: linear-gradient(135deg, #ffffff 0%, #f0f7ff 100%); 
            border-top: 1px solid #dbeafe; 
            border-bottom: 1px solid #dbeafe; 
            margin: 30px 0; 
            padding: 40px 0; 
        }
        .security-box { 
            max-width: 1450px; 
            margin: 0 auto; 
            padding: 0 20px; 
        }
        .security-header { color: var(--primary-blue); font-size: 18px; font-weight: 900; margin-bottom: 20px; display: flex; align-items: center; gap: 10px; text-transform: uppercase; border-bottom: 2px solid var(--accent-orange); padding-bottom: 8px; width: fit-content; }
        .security-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; }
        .security-item { display: flex; align-items: flex-start; gap: 10px; background: rgba(255,255,255,0.8); padding: 15px; border-radius: 12px; border: 1px solid #edf2f7; box-shadow: 0 4px 6px rgba(0,0,0,0.02); }
        .security-item i { color: var(--primary-blue); font-size: 16px; margin-top: 2px; }
        .security-item p { margin: 0; font-size: 11px; font-weight: 700; color: #334155; line-height: 1.5; }

        /* EMPLOYEE SECTION - NEW */
        .employee-wrapper { width: 100%; background: #fff; padding: 40px 0; border-bottom: 4px solid var(--accent-orange); }
        .employee-container { max-width: 1450px; margin: 0 auto; padding: 0 20px; }
        .employee-status-box { display: none; margin-top: 20px; }

        .submit-container { display: flex; justify-content: center; width: 100%; margin-top: 10px; gap: 10px; }
        .review-btn { background: var(--primary-blue); color: white; border: none; padding: 10px 25px; font-size: 11px; font-weight: 900; border-radius: 50px; cursor: pointer; text-transform: uppercase; box-shadow: 0 4px 0 #000044; }
        .edit-btn { background: #64748b; color: white; border: none; padding: 10px 20px; font-size: 10px; font-weight: 800; border-radius: 50px; cursor: pointer; text-transform: uppercase; }

        footer { background: var(--primary-blue); color: white; padding: 25px 20px 15px 20px; border-top: 4px solid var(--accent-orange); margin-top: auto; }
        .footer-content { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 25px; max-width: 1450px; margin: 0 auto; text-align: left; }
        .footer-column h4 { color: var(--accent-yellow); border-bottom: 1px solid var(--accent-yellow); display: inline-block; margin-bottom: 12px; font-weight: 900; font-size: 13px; text-transform: uppercase; }
        .footer-column p, .footer-column a { font-size: 11px; color: rgba(255,255,255,0.9); text-decoration: none; display: flex; align-items: center; gap: 10px; margin-bottom: 8px; line-height: 1.4; font-weight: 600; }
        .footer-column a:hover { color: var(--accent-yellow); text-decoration: underline; }
        .social-icons { display: flex; gap: 15px; margin: 10px 0; }
        .social-icons a { font-size: 20px; color: white; }

        /* Responsive Logic */
        @media (max-width: 850px) {
            header { flex-direction: column; height: auto; padding: 20px 15px; text-align: center; gap: 15px; }
            header .header-left { flex-direction: column; align-items: center; justify-content: center; width: 100%; text-align: center; gap: 10px; }
            header .header-left div { display: flex; flex-direction: column; align-items: center; }
            header .header-right { border-top: 1px solid rgba(255, 255, 255, 0.1); width: 100%; justify-content: center; padding-top: 15px; flex-wrap: wrap; }
            .footer-content { grid-template-columns: 1fr; text-align: center; }
            .footer-column { align-items: center; }
            .registration-form, .review-grid, .security-grid { grid-template-columns: 1fr !important; }
            .horizontal-section { flex-direction: column; gap: 10px; text-align: center; }
        }
    </style>
</head>
<body>

<header>
    <div class="header-scroll-bg"></div>
    <img src="https://studentvisiontc.github.io/SVTC-Images/hh%20logo.png" class="header-corner">
    <img src="https://studentvisiontc.github.io/SVTC-Images/hh%20logo.png" class="header-corner-right">
    <div class="header-left">
        <img src="https://studentvisiontc.github.io/SVTC-Images/SV%20Circle%20logo.png" class="logo">
        <div>
            <div class="main-title">Student Vision Talent Competition</div>
            <div class="sub-title">“See Your Success”</div>
        </div>
    </div>
    <div class="header-right">
        <div class="menu-item"><a href="#"><i class="fa-solid fa-house icon"></i><span class="icon-label">Home</span></a></div>
        <div class="menu-item"><a href="javascript:void(0)" onclick="toggleForm('paid')"><i class="fa-solid fa-user-plus icon"></i><span class="icon-label">Register</span></a></div>
        <div class="menu-item"><a href="#"><i class="fa-solid fa-right-to-bracket icon"></i><span class="icon-label">Login</span></a></div>
        <div class="menu-item"><a href="#"><i class="fa-solid fa-user-tie icon"></i><span class="icon-label">Admin</span></a></div>
        <div class="menu-item"><a href="#"><i class="fa-solid fa-tags icon"></i><span class="icon-label">Pricing</span></a></div>
    </div>
</header>

<div class="marquee-container"><div class="marquee-text">Please register carefully with correct details. You will receive a WhatsApp message with all login details after registration. Review your information before final submission.</div></div>

<div class="info-area">
    <div class="info-wrapper">
        <div class="info-header"><i class="fa-solid fa-circle-exclamation"></i> Important Instructions</div>
        <ul class="info-list">
            <li><i class="fa-solid fa-circle-chevron-right"></i> Unpaid students should register first in Step 1. Our team will contact you.</li>
            <li><i class="fa-solid fa-circle-chevron-right"></i> Register carefully and enter correct information.</li>
            <li><i class="fa-solid fa-circle-chevron-right"></i> Choose the correct section and class while registering.</li>
            <li><i class="fa-solid fa-circle-chevron-right"></i> After payment, register only under Step 2: Paid Students.</li>
            <li><i class="fa-solid fa-circle-chevron-right"></i> Second-time joining students should submit details only after payment.</li>
            <li><i class="fa-solid fa-circle-chevron-right"></i> Review all details before final submission to ensure data accuracy.</li>
        </ul>
    </div>
</div>

<div class="selection-area">
    <div class="selection-wrapper">
        <!-- STEP 1 -->
        <div id="step1_block">
            <div class="horizontal-section" id="unpaidSection" onclick="toggleForm('unpaid')">
                <div class="section-info">
                    <h3><i class="fa-solid fa-clock-rotate-left"></i> <span class="step-badge">UN-PAID</span> Unpaid Students / Enquiry</h3>
                    <p>Register here for more information or enquiry.</p>
                </div>
                <button class="btn-register btn-join-blink">Join</button>
            </div>
            <div id="unpaidRegistration" class="registration-box">
                <div class="form-header"><h2 class="form-title">Express Entry</h2></div>
                <form id="unpaidForm" onsubmit="handleStep1Submit(event)">
                    <div class="form-section">
                        <div class="registration-form">
                            <div class="form-group"><label>Full Name</label><input type="text" name="fullName" required></div>
                            <div class="form-group"><label>Class</label><select name="class" required><option value="">Select Class</option><option value="3rd Class">3rd Class</option><option value="4th Class">4th Class</option><option value="5th Class">5th Class</option><option value="6th Class">6th Class</option><option value="7th Class">7th Class</option><option value="8th Class">8th Class</option><option value="9th Class">9th Class</option><option value="10th Class">10th Class</option></select></div>
                            <div class="form-group"><label>Father Name</label><input type="text" name="parentName" required></div>
                            <div class="form-group"><label>Mobile Number</label><input type="tel" name="mobile" required></div>
                            <div class="form-group"><label>School Name</label><input type="text" name="schoolName" required></div>
                            <div class="form-group"><label>Village</label><input type="text" name="village" required></div>
                        </div>
                    </div>
                    <div class="submit-container"><button type="submit" class="review-btn">Submit Entry</button></div>
                </form>
            </div>
            <div id="unpaidStatus" class="status-container"></div>
        </div>

        <!-- STEP 2 -->
        <div id="step2_block">
            <div class="horizontal-section" id="paidSection" onclick="toggleForm('paid')">
                <div class="section-info">
                    <h3><i class="fa-solid fa-circle-check"></i> <span class="step-badge">PAID-1</span> Paid Students Registration</h3>
                    <p>Register here after completing the payment for full access.</p>
                </div>
                <button class="btn-register btn-join-blink">Join</button>
            </div>
            <div id="paidRegistration" class="registration-box">
                <div id="paidVerifyBox" class="verify-container">
                    <div class="verify-row">
                        <div class="verify-input-group"><i class="fa-solid fa-mobile-screen-button"></i><input type="tel" id="paidVerifyMobile" placeholder="Enter Mobile Number"></div>
                        <button type="button" id="paidVerifyBtn" class="btn-verify" onclick="verifyNumber('paid')">Verify</button>
                    </div>
                    <div id="paidVerifyError" class="verify-error-box"></div>
                </div>
                <div id="paidFullForm" style="display: none;">
                    <div class="form-header"><h2 class="form-title">Paid Full Profile Registration</h2></div>
                    <form id="paidForm" onsubmit="prepareReview(event, 'paid')">
                        <div class="form-section">
                            <div class="section-name"><i class="fa-solid fa-address-card"></i> Section 1 (Required)</div>
                            <div class="registration-form">
                                <div class="form-group"><label>Full Name</label><input type="text" name="fullName" required></div>
                                <div class="form-group"><label>Class</label><select name="class" required><option value="">Select...</option><option value="3rd Class">3rd Class</option><option value="4th Class">4th Class</option><option value="5th Class">5th Class</option><option value="6th Class">6th Class</option><option value="7th Class">7th Class</option><option value="8th Class">8th Class</option><option value="9th Class">9th Class</option><option value="10th Class">10th Class</option></select></div>
                                <div class="form-group"><label>Mobile</label><input type="tel" name="mobile" id="paidActualMobile" readonly required></div>
                                <div class="form-group"><label>Number Used by</label><select name="numberUsedBy" required><option value="">Select...</option><option value="Self">Self</option><option value="Father">Father</option><option value="Mother">Mother</option><option value="Brother">Brother</option><option value="Sister">Sister</option><option value="Others">Others</option></select></div>
                                <div class="form-group"><label>Whatsapp Number</label><div class="box-selector"><div class="box-option"><input type="radio" name="isWa" value="Yes" id="waYes"><label class="box-label" for="waYes">Yes</label></div><div class="box-option"><input type="radio" name="isWa" value="No" id="waNo"><label class="box-label" for="waNo">No</label></div></div></div>
                                <div class="form-group"><label>Parent Name</label><input type="text" name="parentName" required></div>
                                <div class="form-group"><label>Gender</label><div class="box-selector"><div class="box-option"><input type="radio" name="gender" value="Male" id="gMale"><label class="box-label" for="gMale">Male</label></div><div class="box-option"><input type="radio" name="gender" value="Female" id="gFemale"><label class="box-label" for="gFemale">Female</label></div></div></div>
                            </div>
                        </div>
                        <div class="form-section">
                            <div class="section-name"><i class="fa-solid fa-school"></i> Section 2 (Optional)</div>
                            <div class="registration-form">
                                <div class="form-group"><label>Date of Birth</label><div class="dob-container"><select name="dob_day"><option value="">Day</option><script>for(let i=1;i<=31;i++)document.write(`<option value="${i}">${i}</option>`)</script></select><select name="dob_month"><option value="">Month</option><option value="Jan">Jan</option><option value="Feb">Feb</option><option value="Mar">Mar</option><option value="Apr">Apr</option><option value="May">May</option><option value="Jun">Jun</option><option value="Jul">Jul</option><option value="Aug">Aug</option><option value="Sep">Sep</option><option value="Oct">Oct</option><option value="Nov">Nov</option><option value="Dec">Dec</option></select><select name="dob_year"><option value="">Year</option><script>for(let i=new Date().getFullYear();i>=2000;i--)document.write(`<option value="${i}">${i}</option>`)</script></select></div></div>
                                <div class="form-group"><label>School Name</label><input type="text" name="schoolName"></div>
                                <div class="form-group"><label>School City</label><input type="text" name="schoolCity"></div>
                                <div class="form-group"><label>Medium</label><select name="medium"><option value="">Select...</option><option value="English">English</option><option value="Telugu">Telugu</option><option value="Hindi">Hindi</option></select></div>
                                <div class="form-group"><label>School Type</label><select name="schoolType"><option value="">Select...</option><option value="Private">Private</option><option value="Government">Government</option><option value="Residential">Residential</option></select></div>
                                <div class="form-group"><label>Interesting Subject</label><select name="interestingSubject"><option value="">Select...</option><option value="Maths">Maths</option><option value="English">English</option><option value="Telugu">Telugu</option><option value="Science">Science</option><option value="Social">Social</option><option value="EVS">EVS</option><option value="Others">Others</option></select></div>
                                <div class="form-group"><label>Dream / Ambition</label><input type="text" name="ambition"></div>
                            </div>
                        </div>
                        <div class="form-section">
                            <div class="section-name"><i class="fa-solid fa-language"></i> Section 3 (Payment)</div>
                            <div class="registration-form">
                                <div class="form-group"><label>Know English</label><div class="box-selector"><div class="box-option"><input type="radio" name="knowEnglish" value="Yes" id="engYes"><label class="box-label" for="engYes">Yes</label></div><div class="box-option"><input type="radio" name="knowEnglish" value="No" id="engNo"><label class="box-label" for="engNo">No</label></div></div></div>
                                <div class="form-group"><label>Know Telugu</label><div class="box-selector"><div class="box-option"><input type="radio" name="knowTelugu" value="Yes" id="telYes"><label class="box-label" for="telYes">Yes</label></div><div class="box-option"><input type="radio" name="knowTelugu" value="No" id="telNo"><label class="box-label" for="telNo">No</label></div></div></div>
                                <div class="form-group"><label>Know Hindi</label><div class="box-selector"><div class="box-option"><input type="radio" name="knowHindi" value="Yes" id="hinYes"><label class="box-label" for="hinYes">Yes</label></div><div class="box-option"><input type="radio" name="knowHindi" value="No" id="hinNo"><label class="box-label" for="hinNo">No</label></div></div></div>
                                <div class="form-group"><label>Payment Plan</label><select name="paymentPlan" required><option value="">Select...</option><option value="Gold 499 Plan">Gold 499 Plan</option></select></div>
                                <div class="form-group"><label>Paid Amount</label><input type="number" name="paidAmount" value="499" required></div>
                                <div class="form-group"><label>Paid From</label><select name="paidFrom" required><option value="">Select...</option><option value="PhonePe">PhonePe</option><option value="Google Pay">Google Pay</option><option value="Paytm">Paytm</option><option value="Cash">Cash</option><option value="Others">Others</option></select></div>
                            </div>
                        </div>
                        <div class="form-section">
                            <div class="section-name"><i class="fa-solid fa-map-location-dot"></i> Section 4</div>
                            <div class="registration-form">
                                <div class="form-group"><label>Village</label><input type="text" name="village"></div>
                                <div class="form-group"><label>Mandal</label><input type="text" name="mandal"></div>
                                <div class="form-group"><label>District</label><input type="text" name="district"></div>
                                <div class="form-group"><label>State</label><input type="text" name="state" value="Andhra Pradesh"></div>
                                <div class="form-group"><label>Joined Via</label><select name="joinedFrom"><option value="">Select...</option><option value="Class DEMO">Class DEMO</option><option value="Teacher">Teacher</option><option value="Friends">Friends</option><option value="Family">Family</option><option value="Youtube">Youtube</option><option value="Instagram">Instagram</option><option value="Others">Others</option></select></div>
                                <div class="form-group"><label>Reference Name</label><select name="refName"><option value="">Select...</option><option value="K Narasimha Reddy">K Narasimha Reddy</option><option value="B Satya Narayana">B Satya Narayana</option><option value="Others">Others</option></select></div>
                                <div class="form-group"><label>Reference Number</label><input type="tel" name="refNumber"></div>
                                <div class="form-group" style="grid-column: span 2; flex-direction: row; align-items: center; gap: 10px; margin-top: 10px;"><input type="checkbox" name="agreement" value="Agreed" required style="width:18px; height:18px;"><span style="font-size:11px; font-weight: 800;">I AGREE TO <a href="#" style="color: var(--primary-blue); text-decoration: underline;">TERMS & CONDITIONS</a></span></div>
                            </div>
                        </div>
                        <div class="submit-container"><button type="submit" class="review-btn">Review Details</button></div>
                    </form>
                </div>
            </div>
            <div id="paidReviewBox" class="review-area">
                <div class="form-header"><h2 class="form-title">Review Information</h2></div>
                <div id="paidReviewContent" class="review-grid"></div>
                <div class="submit-container"><button type="button" class="edit-btn" onclick="editForm('paid')">Edit</button><button type="button" class="review-btn" onclick="finalSubmitProcess('paid')">Confirm & Submit</button></div>
            </div>
            <div id="paidStatus" class="status-container"></div>
        </div>
    </div>
</div>

<!-- FULL WIDTH SECURITY AREA -->
<div class="security-wrapper">
    <div class="security-box">
        <div class="security-header"><i class="fa-solid fa-user-shield"></i> Security & Data Protection</div>
        <div class="security-grid">
            <div class="security-item"><i class="fa-solid fa-check-circle"></i><p>We collect only basic personal details required for registration.</p></div>
            <div class="security-item"><i class="fa-solid fa-check-circle"></i><p>We do not share, sell, or misuse your data in any way.</p></div>
            <div class="security-item"><i class="fa-solid fa-check-circle"></i><p>We never ask for OTPs. Please stay alert and cautious.</p></div>
            <div class="security-item"><i class="fa-solid fa-check-circle"></i><p>We do not collect Aadhaar, PAN, or any sensitive documents.</p></div>
            <div class="security-item"><i class="fa-solid fa-check-circle"></i><p>Your complete data is kept secure and safe with us.</p></div>
            <div class="security-item"><i class="fa-solid fa-check-circle"></i><p>Please be careful and ensure security while entering your details.</p></div>
            <div class="security-item" style="grid-column: span 2; background: var(--primary-blue); color: white; text-align: center; border:none; padding:12px; border-radius:10px;">
                <p style="color:white; width: 100%;">We promise that all registration details remain protected and secure at all times, even after login.</p>
            </div>
        </div>
    </div>
</div>

<!-- EMPLOYEE ONLY ACCESS SECTION -->
<div class="employee-wrapper">
    <div class="employee-container">
        <div class="horizontal-section" id="employeeToggle" onclick="toggleEmployeeSection()">
            <div class="section-info">
                <h3><i class="fa-solid fa-user-lock"></i> <span class="step-badge" style="background: #333;">STAFF</span> Employee Only Access</h3>
                <p>Authorized access for internal payment verification and updates.</p>
            </div>
            <button class="btn-register" style="background: #333;">Click</button>
        </div>

        <div id="employeeRegistration" class="registration-box">
            <!-- ID Verification Phase -->
            <div id="employeeVerifyBox" class="verify-container" style="margin-top: 20px;">
                <div class="verify-row">
                    <div class="verify-input-group">
                        <i class="fa-solid fa-id-badge"></i>
                        <input type="text" id="employeeIdInput" placeholder="Enter Employee ID">
                    </div>
                    <button type="button" class="btn-verify" style="background: #333;" onclick="verifyEmployee()">Verify</button>
                </div>
                <div id="employeeVerifyError" class="verify-error-box"></div>
            </div>

            <!-- Data Entry Phase -->
            <div id="employeeFullForm" style="display: none; margin-top: 20px;">
                <div class="form-header"><h2 class="form-title" style="color:#333; border-bottom-color:#333;">Update Payment Status</h2></div>
                <form id="employeeForm" onsubmit="handleEmployeeSubmit(event)">
                    <div class="form-section">
                        <div class="registration-form" style="grid-template-columns: 1fr;">
                            <div class="form-group">
                                <label>Student Mobile Number</label>
                                <input type="tel" name="studentMobile" required placeholder="Enter student's registered number">
                            </div>
                            <div class="form-group">
                                <label>Payment Status</label>
                                <select name="paymentStatus" required>
                                    <option value="">Select Status...</option>
                                    <option value="Paid">PAID</option>
                                    <option value="Unpaid">UNPAID</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="submit-container">
                        <button type="submit" class="review-btn" style="background: #333; box-shadow: 0 4px 0 #111;">Submit Update</button>
                    </div>
                </form>
            </div>
        </div>
        <div id="employeeStatus" class="status-container" style="margin-top: 20px;"></div>
    </div>
</div>

<footer>
    <div class="footer-content">
        <div class="footer-column">
            <h4><i class="fa-solid fa-headset"></i> Support</h4>
            <p><i class="fa-solid fa-phone"></i> +91 8985170500</p>
            <p><i class="fa-solid fa-envelope"></i> contact.studentvision@gmail.com</p>
        </div>
        <div class="footer-column">
            <h4><i class="fa-solid fa-link"></i> Quick Links</h4>
            <a href="#"><i class="fa-solid fa-circle-info"></i> About Us</a>
            <a href="#"><i class="fa-solid fa-shield-halved"></i> Privacy Policy</a>
        </div>
        <div class="footer-column">
            <h4><i class="fa-solid fa-share-nodes"></i> Follow Us</h4>
            <div class="social-icons"><a href="#"><i class="fab fa-whatsapp"></i></a><a href="#"><i class="fab fa-instagram"></i></a><a href="#"><i class="fab fa-youtube"></i></a><a href="#"><i class="fab fa-facebook"></i></a></div>
            <p style="opacity: 0.7; font-size: 10px;">&copy; 2025 Student Vision TC. All rights reserved.</p>
        </div>
    </div>
</footer>

<script>
    const scriptURL = 'https://script.google.com/macros/s/AKfycbwAnoUt95Y_3Swh0iBz4ik46QrevxfWLuUmOyZP0NdOVyY9YHQ4Z1Q3ci0Km-3n9CsQ/exec';
    const step1URL = 'https://script.google.com/macros/s/AKfycbxFkcz0aOakTKWNsZY9c8GzGboruOHCSFBSIiWUUUvSWkTMdUZ0-CiPxkhPEBAR5bU/exec';
    const verifyURL = 'https://script.google.com/macros/s/AKfycbzf0fWuvVCyCV2TbGyG1BSXEab12mRiHGd77rcCxcfADb7JNe4HWFnsdknOxlBZgaob/exec';
    
    // NEW URLs for Employee Access
    const employeeVerifyURL = 'https://script.google.com/macros/s/AKfycbzf0fWuvVCyCV2TbGyG1BSXEab12mRiHGd77rcCxcfADb7JNe4HWFnsdknOxlBZgaob/exec'; // Example
    const employeeSubmitURL = 'https://script.google.com/macros/s/AKfycbwAnoUt95Y_3Swh0iBz4ik46QrevxfWLuUmOyZP0NdOVyY9YHQ4Z1Q3ci0Km-3n9CsQ/exec'; // Example

    let globalFormData = {};
    let activeType = '';

    function toggleForm(type) {
        const group = document.getElementById(type === 'unpaid' ? 'unpaidRegistration' : type + 'Registration');
        
        if (activeType === type) {
            hideAll();
            activeType = '';
            return;
        }

        hideAll();
        activeType = type;
        const sectionId = type === 'unpaid' ? 'unpaidSection' : type + 'Section';
        document.getElementById(sectionId).classList.add('active-path');
        group.style.display = 'block';
        
        if(type !== 'unpaid') {
            document.getElementById(type + 'VerifyBox').style.display = 'flex';
            document.getElementById(type + 'FullForm').style.display = 'none';
        }
        scrollToTarget(sectionId);
    }

    function toggleEmployeeSection() {
        const group = document.getElementById('employeeRegistration');
        const toggle = document.getElementById('employeeToggle');
        
        if (activeType === 'employee') {
            hideAll();
            activeType = '';
            return;
        }

        hideAll();
        activeType = 'employee';
        toggle.classList.add('active-path');
        group.style.display = 'block';
        document.getElementById('employeeVerifyBox').style.display = 'flex';
        document.getElementById('employeeFullForm').style.display = 'none';
        scrollToTarget('employeeToggle');
    }

    function hideAll() {
        document.querySelectorAll('form').forEach(f => f.reset());
        document.querySelectorAll('.registration-box, .review-area, .status-container').forEach(el => el.style.display = 'none');
        document.querySelectorAll('.horizontal-section').forEach(el => el.classList.remove('active-path'));
    }

    function scrollToTarget(id) {
        const el = document.getElementById(id);
        if(el) window.scrollTo({ top: el.offsetTop - 20, behavior: 'smooth' });
    }

    function verifyNumber(type) {
        const input = document.getElementById(type + 'VerifyMobile');
        const mobile = input.value.trim();
        const btn = document.getElementById(type + 'VerifyBtn');
        const errorBox = document.getElementById(type + 'VerifyError');
        errorBox.style.display = 'none';
        if (mobile.length < 10) { errorBox.innerText = 'Invalid mobile number'; errorBox.style.display = 'block'; return; }
        btn.disabled = true; btn.innerText = 'VERIFYING...';
        
        fetch(`${verifyURL}?mobile=${mobile}`).then(res => res.json()).then(data => {
            if (data.status === 'success') {
                document.getElementById(type + 'ActualMobile').value = mobile;
                document.getElementById(type + 'VerifyBox').style.display = 'none';
                document.getElementById(type + 'FullForm').style.display = 'block';
                scrollToTarget(type + 'FullForm');
            } else { errorBox.innerText = data.message; errorBox.style.display = 'block'; }
        }).finally(() => { btn.disabled = false; btn.innerText = 'Verify'; });
    }

    // NEW EMPLOYEE FUNCTIONS
    function verifyEmployee() {
        const id = document.getElementById('employeeIdInput').value.trim();
        const errorBox = document.getElementById('employeeVerifyError');
        errorBox.style.display = 'none';

        if(!id) {
            errorBox.innerText = "Please enter Employee ID";
            errorBox.style.display = 'block';
            return;
        }

        // Logic for employee verification (using same verify URL as sample)
        document.getElementById('employeeVerifyBox').style.display = 'none';
        document.getElementById('employeeFullForm').style.display = 'block';
        scrollToTarget('employeeFullForm');
    }

    function handleEmployeeSubmit(e) {
        e.preventDefault();
        const status = document.getElementById('employeeStatus');
        document.getElementById('employeeRegistration').style.display = 'none';
        status.style.display = 'block';
        status.innerHTML = `<div class="status-loading-text"><i class="fas fa-spinner fa-spin"></i> UPDATING STATUS...</div>`;
        
        const data = Object.fromEntries(new FormData(e.target));
        
        fetch(employeeSubmitURL, { method: 'POST', body: JSON.stringify(data) })
        .then(() => {
            status.innerHTML = `
                <div style="padding:20px;">
                    <i class="fa-solid fa-check-circle" style="font-size:50px; color:var(--success-green);"></i>
                    <h3 style="margin-top:15px; font-weight:900;">STATUS UPDATED</h3>
                    <p style="font-size:12px; font-weight:700; color:#64748b;">Payment for ${data.studentMobile} marked as ${data.paymentStatus.toUpperCase()}</p>
                    <button class="btn-action home-btn" style="margin:20px auto 0 auto; background:#333;" onclick="location.reload()">Return Home</button>
                </div>`;
        });
    }

    function prepareReview(e, type) {
        e.preventDefault();
        const data = Object.fromEntries(new FormData(e.target));
        data.dob = `${data.dob_day}-${data.dob_month}-${data.dob_year}`;
        globalFormData = data;
        const reviewContent = document.getElementById(type + 'ReviewContent');
        reviewContent.innerHTML = '';
        const labels = {fullName: "Full Name", class: "Class", mobile: "Mobile", parentName: "Parent", paymentPlan: "Plan", paidAmount: "Amount"};
        for (const [k, v] of Object.entries(data)) {
            if(v && v !== '--' && labels[k]) reviewContent.innerHTML += `<div class="review-item"><div class="review-label">${labels[k]}</div><div class="review-value">${v}</div></div>`;
        }
        document.getElementById(type + 'Registration').style.display = 'none';
        document.getElementById(type + 'ReviewBox').style.display = 'block';
        scrollToTarget(type + 'ReviewBox');
    }

    function editForm(type) {
        document.getElementById(type + 'ReviewBox').style.display = 'none';
        document.getElementById(type + 'Registration').style.display = 'block';
        document.getElementById(type + 'FullForm').style.display = 'block';
        scrollToTarget(type + 'FullForm');
    }

    function handleStep1Submit(e) {
        e.preventDefault();
        const status = document.getElementById('unpaidStatus');
        document.getElementById('unpaidRegistration').style.display = 'none';
        status.style.display = 'block'; 
        status.innerHTML = `<div class="status-loading-text"><i class="fas fa-spinner fa-spin"></i> YOUR FORM IS SUBMITTING...</div>`;
        scrollToTarget('unpaidStatus');
        fetch(step1URL, { method: 'POST', body: JSON.stringify(Object.fromEntries(new FormData(e.target))) })
        .then(() => { 
            status.innerHTML = `
                <div style="padding:15px;">
                    <i class="fa-solid fa-circle-check" style="font-size:50px; color:var(--success-green); margin-bottom:10px;"></i>
                    <h2 style="color:var(--success-green); font-weight:900; margin-bottom:10px;">SUCCESSFUL!</h2>
                    <p style="font-weight:700; color:#475569;">Your details were successfully submitted.</p>
                    <p style="font-size:12px; color:#64748b; margin-top:5px;">We will contact you soon. Support: +91 8985170500</p>
                    <button class="btn-action home-btn" style="margin:20px auto 0 auto;" onclick="location.reload()"><i class="fa-solid fa-house"></i> Home</button>
                </div>`; 
        });
    }

    async function downloadSuccess(name) {
        const card = document.getElementById('successCard');
        const canvas = await html2canvas(card, { scale: 2 });
        const link = document.createElement('a');
        link.download = `Success_${name}.png`;
        link.href = canvas.toDataURL("image/png");
        link.click();
    }

    function finalSubmitProcess(type) {
        const status = document.getElementById(type + 'Status');
        document.getElementById(type + 'ReviewBox').style.display = 'none';
        status.style.display = 'block'; 
        status.innerHTML = `<div class="status-loading-text"><i class="fas fa-spinner fa-spin"></i> YOUR DETAILS ARE SUBMITTING...</div>`;
        scrollToTarget(type + 'Status');

        fetch(scriptURL, { method: 'POST', body: JSON.stringify(globalFormData) }).then(res => res.json()).then(data => {
            const u = data.username || 'N/A'; const p = data.password || 'N/A';
            const waMsg = `*Student%20Vision%20Talent%20Competition*%0A*See%20your%20Success*%0A%0AFull%20Name:%20${globalFormData.fullName}%0AClass:%20${globalFormData.class}%0ALogin%20Link:%20https://studentvision.in/login%0A%0AUsername:%20${u}%0APassword:%20${p}%0A%0A*DO%20NOT%20SHARE%20THESE%20ARE%20ALL%20CONFIDENTIAL*`;
            
            status.innerHTML = `
                <div id="successCard" style="background:white; padding:30px; border-radius:15px; width: 100%; box-shadow:none;">
                    <i class="fa-solid fa-circle-check" style="font-size:60px; color:var(--success-green); margin-bottom:15px;"></i>
                    <h2 style="font-weight:900; margin-bottom:15px;">SUCCESSFUL!</h2>
                    <div style="text-align:left; max-width:500px; margin:0 auto; font-weight:800; font-size:14px; line-height:1.8; border-top:2px solid #eee; border-bottom:2px solid #eee; padding:15px 0;">
                        <p>FULL NAME: ${globalFormData.fullName}</p>
                        <p>CLASS: ${globalFormData.class}</p>
                        <p>LOGIN: <span style="color:var(--primary-blue)">studentvision.in/login</span></p>
                        <p>USERNAME: <span class="cred-item">${u}</span></p>
                        <p>PASSWORD: <span class="cred-item">${p}</span></p>
                    </div>
                    <p style="color:var(--error-red); font-size:11px; font-weight:900; margin-top:20px; background:#fff5f5; display:inline-block; padding:5px 15px; border-radius:50px;">DO NOT SHARE THESE ARE ALL CONFIDENTIAL</p>
                    <div class="action-row">
                        <a href="https://wa.me/918985170500?text=${waMsg}" class="btn-action wa-btn"><i class="fab fa-whatsapp"></i> WhatsApp</a>
                        <button class="btn-action dl-btn" onclick="downloadSuccess('${globalFormData.fullName}')"><i class="fa-solid fa-download"></i> Download</button>
                        <button class="btn-action home-btn" onclick="location.reload()"><i class="fa-solid fa-house"></i> Home</button>
                    </div>
                </div>`;
            document.querySelectorAll('form').forEach(f => f.reset());
        });
    }
</script>
</body>
</html>
